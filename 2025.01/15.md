# ë³€ê²½í•˜ê¸° ì‰¬ìš´ ì½”ë“œ

ë³€ê²½ì— ìœ ì—°í•œ ì½”ë“œë¥¼ ë§Œë“¤ê¸° ìœ„í•œ 4ê°€ì§€ ê¸°ì¤€: ê°€ë…ì„±, ì˜ˆì¸¡ê°€ëŠ¥ì„±, ì‘ì§‘ë„, ê²°í•©ë„

## 1. ê°€ë…ì„±
### 1-1. í™•ì‹¤íˆ ë‚˜ëˆ„ì
  ASIS
  ```tsx
  function SubmitButton() {
    const isViewer = useRole() === "viewer";
  
    useEffect(() => {
      if (isViewer) {
        return;
      }
      showButtonAnimation();
    }, [isViewer]);
  
    return isViewer ? (
      <TextButton disabled>Submit</TextButton>
    ) : (
      <Button type="submit">Submit</Button>
    );
  }
  ```

  ğŸ¤” `useEffect` ì•ˆì— ì‹¤í–‰ë˜ëŠ” ë¡œì§ë“¤ì„ ê°ê° í•´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì‹¤í–‰í•˜ë©´ ì–´ë–¨ê¹Œ?

  ìœ„ ì½”ë“œì—ì„œ ë¶„ê¸°ë¬¸ì„ ì—†ì•  ì½ëŠ” ì‚¬ëŒìœ¼ë¡œ í•˜ì—¬ê¸ˆ ê³ ë ¤í•  ë§¥ë½ì„ ì¤„ì´ëŠ” íš¨ê³¼

  TOBE
  ```tsx
  function SubmitButton() {
    const isViewer = useRole() === "viewer";
  
    return isViewer ? <ViewerSubmitButton /> : <AdminSubmitButton />;
  }
  
  function ViewerSubmitButton() {
    return <TextButton disabled>Submit</TextButton>;
  }
  
  function AdminSubmitButton() {
    useEffect(() => {
      showAnimation();
    }, []);
  
    return <Button type="submit">Submit</Button>;
  }
  ```

### 1-2. êµ¬í˜„ ìƒì„¸ ì¶”ìƒí™”í•˜ê¸°
ASIS
```tsx
function FriendInvitation() {
  const { data } = useQuery(/* ìƒëµ.. */);

  // ì´ì™¸ ì´ ì»´í¬ë„ŒíŠ¸ì— í•„ìš”í•œ ìƒíƒœ ê´€ë¦¬, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë° ë¹„ë™ê¸° ì‘ì—… ë¡œì§...

  const handleClick = async () => {
    const canInvite = await overlay.openAsync(({ isOpen, close }) => (
      <ConfirmDialog
        title={`${data.name}ë‹˜ì—ê²Œ ê³µìœ í•´ìš”`}
        cancelButton={
          <ConfirmDialog.CancelButton onClick={() => close(false)}>
            ë‹«ê¸°
          </ConfirmDialog.CancelButton>
        }
        confirmButton={
          <ConfirmDialog.ConfirmButton onClick={() => close(true)}>
            í™•ì¸
          </ConfirmDialog.ConfirmButton>
        }
        /* ì¤‘ëµ */
      />
    ));

    if (canInvite) {
      await sendPush();
    }
  };

  // ì´ì™¸ ì´ ì»´í¬ë„ŒíŠ¸ì— í•„ìš”í•œ ìƒíƒœ ê´€ë¦¬, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë° ë¹„ë™ê¸° ì‘ì—… ë¡œì§...

  return (
    <>
      <Button onClick={handleClick}>ì´ˆëŒ€í•˜ê¸°</Button>
      {/* UIë¥¼ ìœ„í•œ JSX ë§ˆí¬ì—…... */}
    </>
  );
}
```

ğŸ¤” ë³µì¡í•œ êµ¬í˜„ ë¡œì§ì„ ë‹¤ë¥¸ê³³ìœ¼ë¡œ ìˆ¨ê¸°ë©´ ë” ì½ê¸° ì¢‹ì•„ì§€ì§€ ì•Šì„ê¹Œ?


TOBE: í•´ë‹¹ ì—­í• ì„ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ë¡œ ë¡œì§ì„ ì˜®ê²¨ë³´ì

```tsx
export function FriendInvitation() {
  const { data } = useQuery(/* ìƒëµ.. */);

  // ì´ì™¸ ì´ ì»´í¬ë„ŒíŠ¸ì— í•„ìš”í•œ ìƒíƒœ ê´€ë¦¬, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë° ë¹„ë™ê¸° ì‘ì—… ë¡œì§...

  return (
    <>
      <InviteButton name={data.name} />
      {/* UIë¥¼ ìœ„í•œ JSX ë§ˆí¬ì—… */}
    </>
  );
}

function InviteButton({ name }) {
  return (
    <Button
      onClick={async () => {
        const canInvite = await overlay.openAsync(({ isOpen, close }) => (
          <ConfirmDialog
            title={`${data.name}ë‹˜ì—ê²Œ ê³µìœ í•´ìš”`}
            cancelButton={
              <ConfirmDialog.CancelButton onClick={() => close(false)}>
                ë‹«ê¸°
              </ConfirmDialog.CancelButton>
            }
            confirmButton={
              <ConfirmDialog.ConfirmButton onClick={() => close(true)}>
                í™•ì¸
              </ConfirmDialog.ConfirmButton>
            }
            /* ì¤‘ëµ */
          />
        ));

        if (canInvite) {
          await sendPush();
        }
      }}
    >
      ì´ˆëŒ€í•˜ê¸°
    </Button>
  );
}
```
